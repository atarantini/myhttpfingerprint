<!DOCTYPE html>
<html>
<head>
    <title>My HTTP Fingerprint</title>
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="mobile-web-app-capable" content="yes">
</head>

<body class="blue lighten-3">
    <div class="container">
        <header>
          <a href="#" onclick="location.reload(true);" class="right waves-effect waves-light btn-large blue"><i class="material-icons left">loop</i>Reload</a>
          <div>
            <h1 class="blue-text text-darken-3">My HTTP Fingerprint</h1>
            <h4 class="hide-on-small-only">Simple web application to see your HTTP fingerprint</h4>
          </div>
        </header>

        <div id="loader">
             <div class="progress blue"><div class="indeterminate blue lighten-5"></div></div>
        </div>

        <div id="fingerprint" style="display:none;">
            <div class="card-panel">
                <h5>HTTP Headers</h5>
                <div id="headers"></div>
            </div>

            <div class="card-panel">
                <h5>IP Address</h5>
                <small class="grey-text">Address</small>
                <p id="ip"></p>
                </dl>
            </div>
        </div>
    </div>
    <footer class="page-footer blue">
        <div class="container">
            If you are interested in the project, <a href="https://github.com/atarantini/myhttpfingerprint" class="white-text">view the project page and source code on GitHub.</a>

        </div>
    </footer>
    <!--Import jQuery before materialize.js-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="js/materialize.min.js"></script>
     <script>
        var response;
        $.ajax({
            type: 'GET',
            url: location.protocol+'//httpbin.org/get',
            success: function(data){
                    response = data;
                    // IP
                    $('#ip').html(response.origin);

                    // Headers
                    for (var key in response.headers) {
                        $('#headers').append("<small class=\"grey-text\">"+key+"</small><p>"+response.headers[key]+"</p>");
                    }
                    $('#fingerprint').show();
                    $('#loader').hide();
                },
            error: function(xhr, type){
                Materialize.toast('Unable to request information from httpbin.org, reload to retry', 5000)
            }
        });
    </script>
</body>
</html>
